# Backend Improvement Tasks

- [x] Make DEBUG configurable via environment variable to ease local development and production configuration.
- [x] Add additional security headers (e.g., Content-Security-Policy, Strict-Transport-Security) in custom middleware for better hardening.
- [x] Optimize product list endpoint by reducing verbose logging and adding caching to the list query.
- [x] Standardize MongoDB connection environment variables between settings and connection helper.
- [x] Trigger asynchronous order confirmation emails after order creation using Celery.
- [x] Introduce rate limiting on the login endpoint to mitigate brute-force attacks.

- [x] Add unit tests for `SecurityHeadersMiddleware` to verify required HTTP headers are present.
- [x] Refactor order creation logic into a service layer to reduce complexity and ensure atomic inventory updates.
- [x] Implement structured logging with configurable log levels and forward logs to external monitoring.
- [x] Enforce code linting (e.g., flake8/black) and integrate checks into the CI pipeline.
- [x] Require email verification for new user signups and send verification emails asynchronously.
- [x] Provide a `/health/` endpoint for basic application and database connectivity checks.
- [x] Replace stubbed `Discount` and `Category` classes in the discounts API with real model integration and remove temporary placeholders.
- [x] Implement unit tests for the discounts app covering models and API endpoints.
- [x] Generate API documentation (e.g., OpenAPI/Swagger) for easier client integration.
- [x] Serve a minimal `robots.txt` for basic SEO directives.
- [x] Add Django `AUTH_PASSWORD_VALIDATORS` to enforce strong password rules.
- [x] Replace `TokenAuthentication` with `JWTAuthentication` in order and review viewsets.
- [x] Introduce pagination to the review list endpoint to prevent unbounded result sets.
- [x] Apply rate throttling to review creation to mitigate spam submissions.
- [x] Move review rating and count updates into model methods or a service layer.
- [x] Add tests covering review creation, update, and deletion with rating recalculation.
- [x] Allow client-defined page size with an upper bound in `CustomProductPagination`.
- [x] Restrict product creation, update, and deletion endpoints to staff users.
- [x] Add a unique `slug` field to `Product` for SEO-friendly URLs.
- [x] Support filtering products by category and price range using query parameters.
- [x] Write tests verifying caching behavior for product list and detail views.
- [x] Release reserved inventory when orders are canceled or payments fail.
- [x] Add unit tests for `create_order_from_cart` covering discounts and inventory changes.
- [x] Implement an order cancellation endpoint that restores inventory.
- [x] Schedule a periodic Celery task to purge inactive carts.
- [x] Provide a management command to remove expired email verification tokens.
- [x] Integrate Bandit security scanning into the CI workflow.
- [x] Add a `pre-commit` configuration to enforce formatting and linting before commits.
- [x] Introduce static type checking with mypy and add type hints across the codebase.
- [x] Replace string `user_id` fields in Mongo documents with `ReferenceField` to the `User` model.
- [x] Cache category list responses and invalidate cache on updates.
- [x] Internationalize user-facing error messages via Django's translation framework.
- [x] Document authentication requirements and examples in the README.
- [x] Normalize discount codes to enforce case-insensitive uniqueness.
- [x] Log unhandled Stripe webhook event types for easier debugging.

 - [x] Integrate Sentry for centralized error monitoring.
- [x] Implement API versioning to support backward-compatible changes.
- [x] Add a GraphQL endpoint to enable flexible client queries.
- [x] Introduce soft-delete functionality for products, orders, and carts with restoration options.
- [x] Add database indexes on frequently queried fields to improve performance.
- [x] Enforce global API rate limiting to protect against abusive traffic.
- [x] Optimize queryset performance using `select_related` and `prefetch_related` where appropriate.
- [x] Implement background SMS notifications for order status updates.
- [x] Provide bulk product import and export via CSV files.
- [x] Implement WebSocket-based real-time order status notifications.
- [x] Add a feature flag framework to allow gradual feature rollouts.
- [x] Support distributed caching with a Redis cluster for scalability.
- [x] Implement audit logging for sensitive administrative actions.
- [x] Add integration tests validating Stripe webhook processing.
- [x] Introduce full-text search powered by Elasticsearch.
- [x] Monitor Celery tasks with metrics and alerts on failures.
- [x] Provide a management command to seed the database with sample data.
- [x] Offload product image uploads to asynchronous cloud storage such as S3.
- [x] Add an automated migration check in CI to catch potential issues early.
- [x] Support user profile avatars with size and format validation.
- [x] Configure dynamic CORS allowed origins per environment.
- [x] Schedule periodic cleanup of expired user sessions.
- [x] Publish an official Python API client SDK for external integrations.
- [x] Implement multi-factor authentication for administrative users.
- [x] Add a user data export endpoint to support GDPR requests.

- [x] Support multiple currency conversions with real-time exchange rates.
- [x] Implement a recommended products service based on user behavior.
- [x] Define data retention policies for personal data and automate purging.
- [x] Pre-warm caches during deployments to reduce cold-start latency.
- [x] Collect metrics for database query performance and track slow queries.
- [x] Refactor settings to support hierarchical environment-specific overrides.
- [x] Integrate with an external ERP system for unified inventory management.
- [x] Expose a webhook for shipment tracking updates from carriers.
- [x] Provide an endpoint for customers to download order invoices in PDF.
- [x] Support purchasing and redeeming digital gift cards.
- [ ] Implement referral codes with tracking for marketing campaigns.
- [ ] Enable real-time notifications via Server-Sent Events.
- [ ] Integrate DataDog APM for enhanced application monitoring.
- [ ] Add OpenTelemetry distributed tracing across services.
- [x] Return structured validation error objects in API responses.
- [x] Cache GraphQL introspection queries to reduce overhead.
- [ ] Enforce GraphQL query complexity limits to protect resources.
- [ ] Use dataloaders in GraphQL resolvers to avoid N+1 queries.
- [ ] Provide an admin interface for managing discount rules.
- [ ] Allow scheduling of product publish and unpublish dates.
- [ ] Add ability to temporarily pause and reactivate user accounts.
- [ ] Revoke active sessions when a user changes their password.
- [ ] Use partial indexes in PostgreSQL to optimize soft-delete lookups.
- [ ] Implement multi-tenant support for enterprise clients.
- [ ] Introduce a message queue to decouple event-driven workflows.
- [ ] Add circuit breaker logic when calling external services.
- [ ] Support idempotency keys for all POST endpoints.
- [ ] Provide batch operations for updating multiple products at once.
- [ ] Organize modules following domain-driven design principles.
- [ ] Validate settings using Pydantic for type safety.
- [ ] Add advanced analytics reporting endpoints for administrators.
- [ ] Cache authentication tokens to reduce database hits.
- [ ] Verify file uploads with checksum validation.
- [ ] Support WebAuthn passwordless authentication.
- [ ] Enable HTTP Strict Transport Security preloading.
- [ ] Integrate a third-party tax calculation service.
- [ ] Apply rate limiting to GraphQL queries.
- [ ] Implement API key management for partner integrations.
- [ ] Attach correlation IDs to logs and responses for traceability.
- [ ] Log every admin action with user and timestamp metadata.
- [ ] Provide a CLI tool to assist with complex data migrations.
- [ ] Offer gRPC endpoints for internal service communication.
- [ ] Deploy new versions via canary releases with automated rollback.
- [ ] Add container health probes for Kubernetes readiness and liveness.
- [ ] Configure autoscaling policies for Celery worker pools.
- [ ] Spin up ephemeral review environments for pull requests.
- [ ] Use GitHub Actions to automate continuous deployments.
- [ ] Introduce property-based tests for critical business logic.
- [ ] Run fuzz testing on API inputs to uncover edge cases.
- [ ] Add behavior-driven tests using a tool like Behave.
- [ ] Publish a Postman collection covering all API endpoints.
- [ ] Generate large dataset fixtures for performance testing.
 - [x] Document onboarding steps for new developers in the README.
- [ ] Filter noisy log messages to reduce storage costs.
- [ ] Compress API requests and responses using gzip.
- [ ] Enable HTTP/2 support for faster client communication.
- [ ] Implement a blue-green deployment workflow.
- [ ] Provide predictive inventory analytics using machine learning.
- [ ] Introduce an A/B testing framework for feature experiments.
- [ ] Support SAML-based single sign-on for enterprise customers.
- [ ] Add account deletion flow with email confirmation.
- [ ] Allow marking orders as gifts with custom messages.
- [ ] Encrypt sensitive data at rest using a KMS.
- [ ] Offer per-user notification preference settings.
- [ ] Expose an endpoint showing API rate usage and limits.
- [ ] Support partial returns for individual order line items.
- [ ] Define rules for stacking multiple coupons on one order.
- [ ] Add subscription billing for recurring product purchases.
- [ ] Provide personalized product recommendations via ML models.
- [ ] Cache CORS pre-flight responses to reduce request overhead.
- [ ] Supply a script to reset the staging database.
- [ ] Enforce commit signature verification in the repository.
- [ ] Customize logging formats per environment.
- [ ] Integrate with a service mesh for resilient networking.
- [ ] Report code coverage metrics in the CI pipeline.
- [ ] Send Slack alerts when critical errors occur.
- [ ] Allow users to revoke their own API keys.
- [ ] Track user consent preferences for marketing emails.
- [ ] Add an endpoint to check real-time inventory availability.
- [ ] Calculate tax based on customer location automatically.
- [x] Provide a quickstart guide for new contributors in the README.
- [ ] Build analytics charts for the admin dashboard.
- [ ] Store feature toggle states in the database for runtime updates.
- [ ] Offer an API sandbox environment for integrators.
- [ ] Use UUIDs as primary keys across models.
- [ ] Implement job retry policies with exponential backoff.
- [ ] Manage translations through an external service like Transifex.
- [ ] Separate access logs into a dedicated security log.
- [ ] Publish API deprecation notices ahead of breaking changes.
- [ ] Add a dark mode option to the admin interface.
- [ ] Set proper caching headers on REST API responses.
- [x] Include a security.txt file for vulnerability disclosure.
- [ ] Generate signed URLs for accessing private assets.
- [ ] Retry failed webhooks with exponential backoff.
- [ ] Monitor database replication lag and alert on thresholds.
- [ ] Expose an admin endpoint to purge application caches.
- [ ] Stream inventory updates using Server-Sent Events.
- [ ] Provide gRPC client SDK code generation scripts.
- [ ] Make audit logs queryable through an API endpoint.
- [ ] Allow customers to schedule preferred delivery dates.
